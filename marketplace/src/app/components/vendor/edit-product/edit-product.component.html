<p>edit-product works!</p>

<div class="col-12">
  <div class="card">
    <label for="productSelector"></label>
    <p-dropdown id="productSelector" [options]="productNames" optionLabel="productName" optionValue="productId"
                placeholder="Select product" (onChange)="selectProduct($event.value)"></p-dropdown>
  </div>
</div>
<ng-container *ngIf="selectedProduct">
  <div class="col-12">
    <div class="card">
      <h4>Edit product </h4>

      <div class="field w-full">
        <span class="p-float-label">
            <input type="text" id="title" pInputText [(ngModel)]="selectedProduct.title">
            <label for="title">Title</label>
        </span>
      </div>
      <div class="field col-4 md:col-6 sm:col-12">
        <p-inputNumber id="price" [showButtons]="true" [(ngModel)]="selectedProduct.price"
                       prefix="â‚¬"
                       inputId="stacked" mode="decimal" [step]="0.01" incrementButtonIcon="pi pi-plus"
                       decrementButtonIcon="pi pi-minus">
        </p-inputNumber>
      </div>
      <div class="field col-4 md:col-6 sm:col-12">
        <p-dropdown [options]="categories" [(ngModel)]="selectedProduct.category"
                    class="w-full"
                    id="category"
                    optionLabel="name"></p-dropdown>
      </div>
      <div class="field col-12">
        <p-editor [(ngModel)]="selectedProduct.description"></p-editor>
      </div>

      <p-divider></p-divider>

      <h5>Product images</h5>
      <p-fileUpload
        [customUpload]="true"
        (uploadHandler)="uploadImages($event)"
        [multiple]="true"
        accept="image/*"
      ></p-fileUpload>

      <p-divider></p-divider>

      <h5>Product Attributes</h5>
      <div *ngFor="let characteristic of selectedProduct.category.characteristics"
           class="mt-1 card ">
        <h5>{{characteristic.name}}</h5>

        <p-knob *ngIf="characteristic.type === 'INTEGER'" [ngModel]="getCharacteristicValue(characteristic.name)"
                [ngModelOptions]="{standalone:true}"
                [min]="0" [max]="10" (onChange)="attributeChanged(characteristic,$event)"></p-knob>

        <p-dropdown *ngIf="characteristic.type === 'ENUMERATION'" [options]="characteristic.enumValues"
                    [ngModel]="getCharacteristicValue(characteristic.name)" [ngModelOptions]="{standalone:true}"
                    (onChange)="attributeChanged(characteristic,$event)" placeholder="Select a value"></p-dropdown>

        <p-selectButton *ngIf="characteristic.type === 'BOOL'"
                        [options]="[{label: 'Ja', value: 'true'}, {label: 'Nee', value: 'false'}]"
                        [ngModel]="getCharacteristicValue(characteristic.name)" [ngModelOptions]="{standalone:true}"
                        (onChange)="attributeChanged(characteristic,$event.value)"></p-selectButton>

        <p-inputNumber *ngIf="characteristic.type === 'DECIMAL'" [ngModel]="getCharacteristicValue(characteristic.name)"
                       [ngModelOptions]="{standalone:true}" [showButtons]="true"
                       (onInput)="attributeChanged(characteristic, $event.value)"
                       inputId="stacked" mode="decimal" [step]="0.1" incrementButtonIcon="pi pi-plus"
                       decrementButtonIcon="pi pi-minus">
        </p-inputNumber>

      </div>
      <button
        class="w-full p-3 text-xl mt-1"
        pButton
        pRipple
        label="Save product"
        (click)="saveProduct()"
      ></button>
    </div>
  </div>
</ng-container>

