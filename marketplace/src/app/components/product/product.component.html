<div class="card">
  <form [formGroup]="addProduct" (ngSubmit)="onAdd()">
    <div class="grid">
      <div class="col-12 md:col-6">
        <h4>Product toevoegen</h4>

        <div class="field col-12 md:col-4">
        <span class="p-float-label">
            <input type="text" id="title" pInputText name="first" formControlName="title">
            <label for="title">Product titel</label>
        </span>
        </div>
        <div class="field col-12 md:col-4">
        <span class="p-float-label">
            <input type="text" id="desc" pInputText name="desc" formControlName="description">
            <label for="title">Product omschrijving</label>
        </span>
        </div>

        <label for="price">Prijs</label> <br>
        <p-inputNumber id="price" [showButtons]="true"
                       formControlName="price"
                       prefix="â‚¬"
                       inputId="stacked" mode="decimal" [step]="0.01" incrementButtonIcon="pi pi-plus"
                       decrementButtonIcon="pi pi-minus">
        </p-inputNumber>
      </div>
      <div class="col-12 md:col-4">

        <label for="category" class="block text-900 text-xl font-medium mt">Categorie</label>
        <p-dropdown [options]="categories" [(ngModel)]="selectedCategory" [ngModelOptions]="{standalone:true}"
                    id="category"
                    optionLabel="name" (onChange)="selectCategory()"></p-dropdown>

        <div *ngIf="selectedCategory != undefined">
          <div *ngFor="let characteristic of selectedCategory.characteristics" class="mt card">
            <h5>{{characteristic.name}}</h5>

            <p-knob *ngIf="characteristic.type === 'INTEGER'" #value [ngModel]="characteristic.value"
                    [ngModelOptions]="{standalone:true}"
                    [min]="0" [max]="10" (onChange)="characteristicChanged(characteristic,$event)"></p-knob>

            <p-dropdown *ngIf="characteristic.type === 'ENUMERATION'" [options]="characteristic.enumValues"
                        [ngModel]="characteristic.value" [ngModelOptions]="{standalone:true}"
                        (onChange)="characteristicChanged(characteristic,$event)"></p-dropdown>

            <p-selectButton *ngIf="characteristic.type === 'BOOL'"
                            [options]="[{label: 'Ja', value: 'true'}, {label: 'Nee', value: 'false'}]"
                            [ngModel]="characteristic.value" [ngModelOptions]="{standalone:true}"
                            (onChange)="characteristicChanged(characteristic,$event)"></p-selectButton>

            <p-inputNumber *ngIf="characteristic.type === 'DECIMAL'" [ngModel]="characteristic.value"
                           [ngModelOptions]="{standalone:true}" [showButtons]="true"
                           (onInput)="characteristicChanged(characteristic, $event.value)"
                           inputId="stacked" mode="decimal" [step]="0.1" incrementButtonIcon="pi pi-plus"
                           decrementButtonIcon="pi pi-minus">
            </p-inputNumber>

          </div>
        </div>
      </div>
      <button
        class="w-full p-3 text-xl mt-3"
        pButton
        pRipple
        label="Voeg product toe"
        type="submit"
      ></button>
    </div>
  </form>
</div>
